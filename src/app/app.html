<div class="w-full flex justify-center">
  <div class="sm:w-[70%] w-[90%] sm:pt-20 pt-10">
    <p class="text-4xl font-bold leading-tight text-[#0d141b] mb-4">
      Welcome to the Kaprekar's Method Demonstrator
    </p>
    <p class="text-base font-normal leading-normal text-[#4c739a] text-gray-400">
      Kaprekar's method is a mathematical algorithm that involves repeatedly taking a four-digit
      number, arranging its digits in ascending and descending order to create two new numbers, and
      then subtracting the smaller number from the larger one. This process always converges to the
      number 6174, known as Kaprekar's constant, in at most 7 steps. Note that this doesn't work for
      repdigits (e.g., 1111, 2222).
    </p>
    <div class="flex flex-wrap items-end gap-4 py-3">
      <label class="flex flex-col min-w-40 flex-1">
        <p class="pb-2 text-base font-medium leading-normal text-[#0d141b]">
          Enter a 4-Digit Number
        </p>
        <input
          class="flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg border border-[#cfdbe7] bg-background-light text-[#0d141b] focus:outline-0 focus:ring-0 focus:border-primary h-14 p-[15px] text-base font-normal leading-normal placeholder:text-[#4c739a]"
          placeholder="e.g., 3524"
          type="number"
          [ngClass]="{
            'border-[#cfdbe7] focus:border-primary': !showError,
            'border-red-500 focus:border-red-500': showError
          }"
          [value]="value()"
          (input)="value.set($event.target.value)"
          (blur)="onBlur()"
        />
      </label>
    </div>
    <div class="flex justify-start">
      <div class="flex flex-1 gap-3 flex-wrap py-3">
        <button
          class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-5 bg-[#1173D4] text-slate-50 text-base font-bold leading-normal tracking-[0.015em]"
          (click)="calculateKaprekar(+value())"
        >
          <span class="truncate">Calculate</span>
        </button>
        <button
          class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-5 bg-[#e7edf3] text-[#0d141b] text-black text-base font-bold leading-normal tracking-[0.015em]"
          (click)="value.set(''); kaprekarResult.set('')"
        >
          <span class="truncate">Clear</span>
        </button>
      </div>
    </div>
    <div
      class="flex flex-col gap-2 border border-dashed rounded-lg border-2 border-[#cfdbe7] p-2 whitespace-pre-line mb-2"
    >
      @if(kaprekarResult() === '') {
      <div class="w-full flex flex-col justify-center items-center">
        <p
          class="text-lg font-bold leading-tight tracking-[-0.015em] max-w-[480px] text-center text-[#0d141b]"
        >
          Your results will appear here.
        </p>
        <p
          class="text-sm font-normal leading-normal max-w-[480px] text-center text-[#4c739a] text-gray-400"
        >
          The steps of the calculation will be shown here once you enter a number and click
          'Calculate'.
        </p>
      </div>
      } @else {
      <om-typewriter
        key="kaprekarResult()"
        [words]="[kaprekarResult().trim()]"
        [disableLoop]="true"
        [writeSpeed]="5"
        textCursorColor="transparent"
      ></om-typewriter>
      }
    </div>
  </div>
</div>
